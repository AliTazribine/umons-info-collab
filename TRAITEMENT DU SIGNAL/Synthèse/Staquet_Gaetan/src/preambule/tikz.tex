\usepackage{tikz}
\usetikzlibrary{arrows, shapes, calc, positioning, external}

\tikzexternalize
\tikzsetexternalprefix{figures/}

\tikzset {
    sum/.style = {
        draw,
        shape = circle,
        font={$\Sigma$} % Small hack to set \Sigma in every sum node
    },
    Z/.style = {
        draw,
        shape = rectangle,
        minimum width=25pt,
        minimum height=20pt,
        font = {$z^{-1}$} % To set z^{-1} in every Z node
    },
    multiply/.style args = {#1}{
        draw,
        regular polygon,
        regular polygon sides = 3,
        inner sep=0pt,
        minimum size=25pt,
        label = {[label distance=0.1cm]#1}
    },
    multiply right/.style args = {#1}{
        multiply={#1},
        shape border rotate=-90,
    },
    multiply left/.style args = {#1}{
        multiply={#1},
        shape border rotate=90,
    },
    branch/.style = {
        draw,
        shape = circle,
        fill,
        inner sep=0pt,
        minimum size=4pt
    },
    every path/.style = {
        ->,
        >=stealth',
        line width=1pt,
        draw
    }
}